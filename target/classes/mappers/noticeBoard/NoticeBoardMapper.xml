<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

 <mapper namespace="com.pps.ek.noticeBoard.model.mapper.NoticeMapper">
 	<sql id="selectNoticeBoardSql">
 		SELECT  BOARD_NO, 
			    BOARD_TITLE, 
			    BOARD_CONTENT, 
			    BOARD_ENROLLTIME,
			    BOARD_DESTINATION
		FROM BOARD
 	</sql>
 	
 	
 	
 	<resultMap type="NoticeBoard" id="NoticeBoardResultMap">
 		<id property = "boardNo" column="BOARD_NO"/>
 		<result property = "boardTitle" column = "BOARD_TITLE"/>
 		<result property = "boardContents" column = "BOARD_CONTENT"/>
 		<result property = "boardEnrollTime" column = "BOARD_ENROLLTIME"/>
 		<result property = "boardDestination" column = "BOARD_DESTINATION"/>
 	</resultMap>
 	
 	
 	
 	<select id="selectBoardList" resultMap="NoticeBoardResultMap">
 		<include refid = "selectNoticeBoardSql"/>
 			ORDER BY BOARD_ENROLLTIME
 	</select>
 	
 	<select id="selectNotice" resultMap="NoticeBoardResultMap">
 		<include refid ="selectNoticeBoardSql"/>
 		WHERE BOARD_NO = #{boardNo}
 	</select>
 	
 	<insert id="insertNotice" parameterType="map">
 		INSERT INTO BOARD
 		(
 			BOARD_NO,
 			BOARD_TITLE,
 			BOARD_CONTENT,
 			BOARD_ENROLLTIME,
 			BOARD_DESTINATION
 		)
 		VALUES
 		(
 			BOARD_SEQ.NEXTVAL,
 			#{title},
 			#{content},
 			SYSDATE,
 			#{destination}
 		)
 	</insert>
 	
 	<delete id="deleteNotice" parameterType="map">
 		DELETE FROM BOARD
 		WHERE BOARD_NO = #{no}
 	</delete>
 	
 	<update id="updateNotice" parameterType="map">
 		UPDATE BOARD SET
 		BOARD_TITLE = #{title},
 		BOARD_CONTENT = #{content}
 		WHERE BOARD_NO = #{no}
 	</update>
 </mapper>